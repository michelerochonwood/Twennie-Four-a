{{> mainpartials/templateinstructions_partial}}

<div class="contribute-wave-divider">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 160">
    <path fill="#939598" fill-opacity="1" d="M0,64L80,58.7C160,53,320,43,480,58.7C640,75,800,117,960,122.7C1120,128,1280,96,1360,80L1440,64L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"></path>
  </svg>
</div>

<div class="form-template-background">
  <div class="form-template-container">

    <!-- Template Submission Form -->
<form 
  id="template-form" 
  action="/unitform/submit_template" 
  method="POST" 
  enctype="multipart/form-data"
>
  <input type="hidden" name="_csrf" value="{{csrfToken}}">




      <!-- Template Title -->
      <div class="form-field">
        <label for="template-title">Template Title</label>
        <input type="text" id="template-title" name="template_title" required>
      </div>

      <!-- Main Topic -->
      <div class="form-field">
        <label for="main-topic">Main Topic</label>
        <select id="main-topic" name="main_topic" style="border-radius: 55px;" required>
          <option value="">Please select a main topic</option>
          <option value="Career Development in Technical Services">Career Development in Technical Services</option>
          <option value="Soft Skills in Technical Environments">Soft Skills in Technical Environments</option>
          <option value="Project Management">Project Management</option>
          <option value="Business Development in Technical Services">Business Development in Technical Services</option>
          <option value="Proposal Management">Proposal Management</option>
          <option value="Proposal Strategy">Proposal Strategy</option>
          <option value="Storytelling in Technical Marketing">Storytelling in Technical Marketing</option>
          <option value="Client Experience">Client Experience</option>
          <option value="Social Media, Advertising, and Other Mysteries">Social Media, Advertising, and Other Mysteries</option>
          <option value="Emotional Intelligence">Emotional Intelligence</option>
          <option value="The Pareto Principle or 80/20">The Pareto Principle or 80/20</option>
          <option value="Diversity and Inclusion in Consulting">Diversity and Inclusion in Consulting</option>
          <option value="People Before Profit">People Before Profit</option>
          <option value="Non-Technical Roles in Technical Environments">Non-Technical Roles in Technical Environments</option>
          <option value="Leadership in Technical Services">Leadership in Technical Services</option>
          <option value="The Advantage of Failure">The Advantage of Failure</option>
          <option value="Social Entrepreneurship">Social Entrepreneurship</option>
          <option value="Employee Experience">Employee Experience</option>
          <option value="Project Management Software">Project Management Software</option>
          <option value="CRM Platforms">CRM Platforms</option>
          <option value="Client Feedback Software">Client Feedback Software</option>
          <option value="Workplace Culture">Workplace Culture</option>
          <option value="Mental Health in Consulting Environments">Mental Health in Consulting Environments</option>
          <option value="Remote and Hybrid Work">Remote and Hybrid Work</option>
          <option value="Four Day Work Week">Four Day Work Week</option>
          <option value="The Power of Play in the Workplace">The Power of Play in the Workplace</option>
          <option value="Team Building in Consulting">Team Building in Consulting</option>
          <option value="AI in Consulting">AI in Consulting</option>
          <option value="AI in Project Management">AI in Project Management</option>
          <option value="AI in Learning">AI in Learning</option>
        </select>

      </div>

      <!-- Secondary Topics -->
      <div class="form-field">
        <label for="secondary-topics">Secondary Topics (Optional)</label>
        <select id="secondary-topics" name="secondary_topics" multiple>
          <option value="Career Development in Technical Services">Career Development in Technical Services</option>
          <option value="Soft Skills in Technical Environments">Soft Skills in Technical Environments</option>
          <option value="Project Management">Project Management</option>
          <option value="Business Development in Technical Services">Business Development in Technical Services</option>
          <option value="Proposal Management">Proposal Management</option>
          <option value="Proposal Strategy">Proposal Strategy</option>
          <option value="Storytelling in Technical Marketing">Storytelling in Technical Marketing</option>
          <option value="Client Experience">Client Experience</option>
          <option value="Social Media, Advertising, and Other Mysteries">Social Media, Advertising, and Other Mysteries</option>
          <option value="Emotional Intelligence">Emotional Intelligence</option>
          <option value="The Pareto Principle or 80/20">The Pareto Principle or 80/20</option>
          <option value="Diversity and Inclusion in Consulting">Diversity and Inclusion in Consulting</option>
          <option value="People Before Profit">People Before Profit</option>
          <option value="Non-Technical Roles in Technical Environments">Non-Technical Roles in Technical Environments</option>
          <option value="Leadership in Technical Services">Leadership in Technical Services</option>
          <option value="The Advantage of Failure">The Advantage of Failure</option>
          <option value="Social Entrepreneurship">Social Entrepreneurship</option>
          <option value="Employee Experience">Employee Experience</option>
          <option value="Project Management Software">Project Management Software</option>
          <option value="CRM Platforms">CRM Platforms</option>
          <option value="Client Feedback Software">Client Feedback Software</option>
          <option value="Workplace Culture">Workplace Culture</option>
          <option value="Mental Health in Consulting Environments">Mental Health in Consulting Environments</option>
          <option value="Remote and Hybrid Work">Remote and Hybrid Work</option>
          <option value="Four Day Work Week">Four Day Work Week</option>
          <option value="The Power of Play in the Workplace">The Power of Play in the Workplace</option>
          <option value="Team Building in Consulting">Team Building in Consulting</option>
          <option value="AI in Consulting">AI in Consulting</option>
          <option value="AI in Project Management">AI in Project Management</option>
          <option value="AI in Learning">AI in Learning</option>
        </select>

        <small>Select multiple topics by holding Ctrl (Windows) or Command (Mac).</small>
      </div>

      <!-- Sub Topic -->
      <div class="form-field">
        <label for="sub-topic">Sub Topic (Optional)</label>
        <input type="text" id="sub-topic" name="sub_topic">
      </div>

      <!-- Upload or Link Choice -->
      <div class="form-field">
        <label for="upload-or-link">How are you submitting your template?</label>
        <div class="radio-group">
          <label><input type="radio" name="submission_type" value="upload" required onchange="toggleSubmissionFields()"> Upload a File</label>
          <label><input type="radio" name="submission_type" value="link" required onchange="toggleSubmissionFields()"> Paste a Link (e.g., Mural Template)</label>
        </div>
      </div>

      <!-- Upload Field (shown if upload selected) -->
      <div class="form-field" id="upload-field" style="display: none;">
        <label for="template-file">Upload Your File:</label>
        <input type="file" id="template-file" name="template_file" accept=".doc,.docx,.pdf,.ppt,.pptx,.xls,.xlsx">
        <small>Accepted formats: Word, Excel, PowerPoint, PDF.</small>
      </div>

      <!-- Link Field (shown if link selected) -->
      <div class="form-field" id="link-field" style="display: none;">
        <label for="template-link">Paste Template Link:</label>
        <input type="url" id="template-link" name="template_link" placeholder="https://">
      </div>

      <!-- File Format Radio (Optional: still helpful for reporting) -->
      <div class="form-field">
        <label for="file-format">Select a File Format (or Mural):</label>
        <div class="radio-group">
          <label><input type="radio" name="file_format" value="MS Word"> MS Word</label>
          <label><input type="radio" name="file_format" value="MS Excel"> MS Excel</label>
          <label><input type="radio" name="file_format" value="MS PowerPoint"> MS PowerPoint</label>
          <label><input type="radio" name="file_format" value="PDF"> PDF</label>
          <label><input type="radio" name="file_format" value="Mural"> Mural</label>
          <label><input type="radio" name="file_format" value="Other"> Other</label>
        </div>
      </div>

      <!-- Toggles (Criteria Questions) -->
      <!-- Toggles -->
      <div class="form-field">
        <div class="white-container">
          <div class="toggle-group">
            <label>
              <input type="checkbox" name="clarify_topic">
              Does your template further clarify the topic?
            </label>
            <label>
              <input type="checkbox" name="produce_deliverables">
              Does your template produce tangible deliverables?
            </label>
            <label>
              <input type="checkbox" name="new_ideas">
              Does your template challenge users to complete it creatively?
            </label>
            <label>
              <input type="checkbox" name="engaging">
              Are the template instructions insightful and engaging?
            </label>
            <label>
              <input type="checkbox" name="recognized_file_format">
              Is your template in a recognized file format?
            </label>
            <label>
              <input type="checkbox" name="permission" required>
              Do you provide consent for this library unit to be used for Twennie promotional purposes?
            </label>
          </div>
        </div>
      </div>

      <!-- Short Summary -->
      <div class="form-field">
        <label for="short-summary">Short Summary (50 words)</label>
        <textarea id="short-summary" name="short_summary" maxlength="300" required></textarea>
      </div>

      <!-- Full Summary -->
      <div class="form-field">
        <label for="full-summary">Full Summary (150 words)</label>
        <textarea id="full-summary" name="full_summary" maxlength="600" required></textarea>
      </div>

      <!-- Visibility -->
      <div class="form-field">
        <label>Who can access this template?</label>
        <div class="visibility-toggle-row">
          <label class="visibility-option">
            <input type="radio" name="visibility" value="team_only" required> Share with my team only
          </label>
          <label class="visibility-option">
            <input type="radio" name="visibility" value="organization_only" required> Share with my organization only
          </label>
          <label class="visibility-option">
            <input type="radio" name="visibility" value="all_members" required> Share with all Twennie members
          </label>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="form-buttons">
        <button type="submit" class="form-button submit-button" style="margin: 0 auto;">submit for approval</button>
      </div>
    </form>
  </div>
</div>

{{> mainpartials/footer}}

<!-- Toggle Upload vs Link -->
<script>
function toggleSubmissionFields() {
  const uploadField = document.getElementById('upload-field');
  const linkField = document.getElementById('link-field');
  const submissionType = document.querySelector('input[name="submission_type"]:checked').value;
  
  if (submissionType === 'upload') {
    uploadField.style.display = 'block';
    linkField.style.display = 'none';
  } else if (submissionType === 'link') {
    uploadField.style.display = 'none';
    linkField.style.display = 'block';
  }
}
</script>
